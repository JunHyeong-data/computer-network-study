# 🔍 네트워크 미시적으로 살펴보기

이번 절에서는 네트워크를 좀 더 세부적으로 살펴보고, 관련 개념을 학습합니다.  
통신 과정에서 정보를 올바르게 주고받기 위해 필요한 다음 개념들을 다룹니다.

- **프로토콜 (Protocol)**
- **네트워크 참조 모델**
- **캡슐화 / 역캡슐화**

---

## 📡 프로토콜 (Protocol)

현대 인터넷은 대부분 **패킷 교환 방식**을 기반으로, 호스트 간 정보를 주고받습니다.  
이때 패킷은 택배처럼 주소와 물품(데이터)을 담고 이동하며, **서로 정해진 규칙(프로토콜)에 따라 주고받습니다.**

### 💬 프로토콜이란?

> 프로토콜은 "노드 간 정보를 올바르게 주고받기 위해 **합의된 규칙이나 방법**"을 의미합니다.  
> 사람 사이의 언어처럼, 서로 다른 통신 장치가 대화하려면 프로토콜이라는 약속이 필요합니다.

---

### 🧪 프로토콜 예시

| 예시 문장 | 설명 |
|----------|------|
| **"IP는 패킷을 수신지까지 전달하기 위해 사용되는 프로토콜이다."** | IP는 패킷을 **전달**하는 규칙입니다. |
| **"ARP는 IP 주소를 MAC 주소로 변환하는 데 사용되는 프로토콜이다."** | ARP는 IP ↔ MAC 주소 대응을 위한 규칙입니다. |
| **"HTTPS는 HTTP보다 보안상 안전한 프로토콜이다."** | HTTPS는 암호화를 적용한 HTTP입니다. |
| **"TCP는 UDP보다 느리지만 신뢰성 있는 프로토콜이다."** | TCP는 **신뢰성 보장**, UDP는 **속도 우선**의 프로토콜입니다. |

---

### 🎯 프로토콜의 특징 요약

- 모든 프로토콜에는 **고유한 목적**과 **특징**이 있다.
- 프로토콜이 다르면 **패킷에 포함되는 정보(헤더)** 도 달라진다.
- 예를 들어 TCP와 UDP의 헤더 구성은 다음과 같이 다르다.

---

### 📦 TCP vs UDP 헤더 구조 (예시)

| 항목              | TCP 헤더                    | UDP 헤더               |
|-------------------|------------------------------|-------------------------|
| 송신 포트         | ✅ 포함                       | ✅ 포함                  |
| 수신 포트         | ✅ 포함                       | ✅ 포함                  |
| 순서 번호         | ✅ 포함 (신뢰성 보장용)       | ❌ 없음                 |
| 확인 응답 번호    | ✅ 포함                       | ❌ 없음                 |
| 체크섬            | ✅ 포함                       | ✅ 포함                  |
| 헤더 길이         | ✅ 포함                       | ❌ 없음 (고정 크기)      |
| 연결 제어 플래그  | ✅ 포함 (연결 여부 제어)       | ❌ 없음                 |
| 총 헤더 크기      | **20바이트 이상**             | **8바이트 고정**        |

> ✅ TCP는 **신뢰성, 흐름제어, 순서 보장**을 위한 다양한 정보를 포함합니다.  
> ✅ UDP는 **속도**와 **간단함**을 우선시하며, 헤더가 작고 단순합니다.

---

## 📌 정리

- **프로토콜**은 통신 장비 간의 정보 교환을 위한 **규칙**입니다.
- 목적과 특징에 따라 다양한 프로토콜이 존재하며,  
  각 프로토콜은 **자신만의 헤더 구조**를 가집니다.
- 네트워크 프로그래밍 또는 분석을 위해서는 주요 프로토콜(IP, TCP, UDP, HTTP, ARP 등)의  
  **기능, 목적, 헤더 구조**를 숙지하는 것이 중요합니다.

---

> 다음 절에서는 프로토콜이 실제로 계층적으로 작동하는 구조인  
> **네트워크 참조 모델(OSI 7계층 / TCP/IP 4계층)** 과  
> **캡슐화 & 역캡슐화 과정**에 대해 알아보겠습니다.
