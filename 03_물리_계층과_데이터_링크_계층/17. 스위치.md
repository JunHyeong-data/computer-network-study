# 🧠 스위치 (Switch)

**스위치(Switch)**는 데이터 링크 계층(2계층)의 네트워크 장비입니다.  
스위치는 **MAC 주소를 학습**하고, **포트별로 프레임을 전송**하며, **전이중 통신**을 지원해 충돌이 거의 없습니다.

---

## ✅ 스위치의 특징

- 데이터 링크 계층 (L2) 장비 → **L2 스위치**
- 여러 호스트 연결 가능 (허브와 유사)
- **MAC 주소를 학습**하고, 특정 수신지 포트로만 프레임 전송
- **전이중(Full Duplex)** 통신 가능 → **충돌 없음**
- CSMA/CD 사용 필요 없음

---

## 📘 MAC 주소 학습(MAC Learning)

스위치는 세 가지 기능으로 동작하며 **MAC 주소 테이블**을 형성합니다.

### 1. 플러딩 (Flooding)

- 수신된 프레임의 **수신지 MAC 주소**가 MAC 주소 테이블에 없을 경우,
- **모든 포트**로 해당 프레임을 전송 (송신지 포트 제외)

### 2. 포워딩과 필터링 (Forwarding & Filtering)

- MAC 주소 테이블에 수신지 주소가 존재하면,
- **해당 포트로만 포워딩**, 나머지 포트는 필터링

### 3. 에이징 (Aging)

- MAC 주소 테이블의 항목은 **일정 시간 동안만 유지**
- 프레임이 다시 들어오지 않으면 **자동 삭제**

---

## 📄 MAC 주소 테이블 예시

| MAC 주소         | 연결 포트 |
|------------------|------------|
| AA:BB:CC:DD:EE:01 | 포트 1     |
| AA:BB:CC:DD:EE:02 | 포트 3     |
| AA:BB:CC:DD:EE:03 | 포트 4     |

---

## 🌐 VLAN (Virtual LAN)

**VLAN**은 하나의 스위치 안에서 **논리적으로 LAN을 분리**하는 기술입니다.  
→ 물리적 연결과 무관하게 **네트워크를 그룹화**할 수 있음

![VLAN 예시](https://github.com/user-attachments/assets/79d70ef0-1bc3-4351-8d79-02414e773efa)

### VLAN의 특징

- 한 스위치로 여러 개의 가상 LAN 구성 가능
- 서로 다른 VLAN 간에는 **직접 통신 불가능**
- 서로 다른 VLAN은 **브로드캐스트도 차단**
- VLAN 간 통신은 **라우터** 또는 **L3 스위치** 필요

---

## 🧩 VLAN 분류 방식

### 1. 포트 기반 VLAN

- 포트 단위로 VLAN을 구분
- 사전에 각 포트에 VLAN을 지정
- **간단하지만 유연성 부족**

#### 📌 VLAN 트렁킹 (VLAN Trunking)

- 여러 스위치를 하나의 VLAN 구조로 연결
- **트렁크 포트**를 이용해 VLAN 정보 포함 전송
- 포트 수 부족 문제를 해결

### 2. MAC 기반 VLAN

- 호스트의 **MAC 주소 기준**으로 VLAN 구분
- 어떤 포트에 연결되어도 MAC 주소 기준으로 VLAN 지정

---

## 📌 스위치 vs 허브 비교

| 항목             | 허브                        | 스위치                      |
|------------------|-----------------------------|-----------------------------|
| 계층             | 물리 계층 (1계층)            | 데이터 링크 계층 (2계층)     |
| MAC 주소 인식    | 불가능                      | 가능 (MAC 주소 학습)        |
| 전송 방식        | 브로드캐스트                | 유니캐스트 (필요한 포트만)  |
| 통신 방식        | 반이중                      | 전이중                      |
| 충돌 발생 가능성 | 높음 (콜리전 도메인 공유)   | 없음 (포트마다 콜리전 도메인 분리) |
| VLAN 지원        | 미지원                      | 지원                         |

---

## 📝 핵심 요약

- 스위치는 **MAC 주소 학습**으로 충돌 없이 효율적인 데이터 전송 가능
- **전이중 통신**을 지원해 CSMA/CD 불필요
- **VLAN**을 통해 **논리적으로 네트워크 분리** 가능
- VLAN 분리 방식: **포트 기반**, **MAC 기반**

