# 🚀 라우팅(Routing)

라우팅이란, **패킷이 목적지까지 도달할 수 있도록 최적의 경로를 설정하고 전송하는 과정**을 말합니다.  
이 기능은 네트워크 계층에서 수행되며, 주로 **라우터(Router)** 가 담당합니다.

---

## 📡 라우터란?

라우터는 네트워크 계층(L3)의 대표적인 장비로, **서로 다른 네트워크 간에 데이터를 전달**해주는 역할을 합니다.

- **L3 스위치**도 라우터처럼 작동할 수 있으나, 오늘날에는 라우터와 기능상 큰 차이가 없어서 구분하지 않는 경우도 많습니다.
- 패킷이 여러 라우터를 거치며 이동할 때, **각각의 이동 단계**를 "**홉(hop)**"이라고 부릅니다.
- 예: 호스트 A → 라우터 1 → 라우터 2 → 호스트 B (→ 2 홉)

---

## 📄 라우팅 테이블

라우팅의 핵심은 바로 **라우팅 테이블(Routing Table)** 입니다.  
라우터는 이 테이블을 참고해 **어떤 경로로 패킷을 보낼지 결정**합니다.

### 라우팅 테이블의 주요 항목

| 항목            | 설명                                                                 |
|-----------------|----------------------------------------------------------------------|
| 수신지 IP 주소   | 패킷을 도달시켜야 하는 대상의 주소                                    |
| 서브넷 마스크    | 해당 주소 범위를 정의하는 비트 마스크                                 |
| 다음 홉(게이트웨이) | 다음으로 패킷을 전송할 라우터나 호스트의 IP 주소                       |
| 인터페이스       | 패킷을 내보낼 네트워크 인터페이스 (NIC)                              |
| 메트릭(Metric)  | 경로의 비용. 낮을수록 선호됨 (짧은 거리, 빠른 연결 등)                |

---

## 📌 디폴트 라우트 (Default Route)

라우팅 테이블에 일치하는 경로가 없다면, **디폴트 라우트**를 사용합니다.

- 디폴트 라우트는 모든 IP 주소를 의미하는 **`0.0.0.0/0`** 으로 표시됩니다.
- 목적지 IP가 어떤 항목과도 일치하지 않으면 이 경로를 따라 패킷이 전송됩니다.

📎 **예시 상황**:  
호스트 A가 외부 호스트 B에게 패킷을 보내고자 할 때, A의 라우팅 테이블에 B로 가는 경로가 없다면  
A는 **기본 게이트웨이(라우터)** 로 패킷을 보냅니다.  
→ 이 기본 게이트웨이가 디폴트 라우트 역할을 합니다.

---

## 💡 라우팅 테이블 예시 (GPT가 제공하는 예)

```txt
Destination     Gateway         Genmask         Interface  Metric
192.168.1.0     0.0.0.0         255.255.255.0   eth0       1
10.0.0.0        192.168.1.1     255.0.0.0       eth0       2
0.0.0.0         192.168.1.1     0.0.0.0         eth0       3
```

---

## 해석
- 192.168.1.0/24: 로컬 네트워크 → 직접 연결 (게이트웨이 없음)
- 10.0.0.0/8: 게이트웨이 192.168.1.1을 통해 이동
- 0.0.0.0/0: 일치하는 경로가 없을 경우, 기본 게이트웨이 192.168.1.1로 이동 (디폴트 라우트)

---
## 🧠 정리
- 라우팅: 패킷이 목적지까지 가는 경로를 결정하는 것
- 라우터: 네트워크 계층의 대표 장비, 패킷을 네트워크 간에 전달
- 라우팅 테이블: 목적지 IP에 따라 경로를 결정하는 표
- 디폴트 라우트: 명시적인 경로가 없을 때 사용하는 기본 경로 (0.0.0.0/0)


