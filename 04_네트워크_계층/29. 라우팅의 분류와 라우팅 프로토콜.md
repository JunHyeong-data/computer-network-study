# 정적 라우팅과 동적 라우팅

라우팅 테이블은 어떻게 만들어질까요? 크게 두 가지 방법이 있습니다.  
하나는 **정적 라우팅**, 또 하나는 **동적 라우팅**입니다.

IP 주소를 할당하는 방법에 **정적 할당**과 **동적 할당**이 있는 것처럼,  
라우팅 방식도 정적과 동적으로 나뉩니다.

---

## 정적 라우팅

**정적 라우팅**은 사용자가 수동으로 직접 라우팅 테이블에 경로를 등록하는 방식입니다.  
예를 들어 다음과 같은 명령어로 라우팅 정보를 입력합니다:

``` txt
route add -net 10.0.0.0/24 gw 192.168.1.1
```

이처럼 수동으로 구성된 라우팅 테이블 항목을 통해 이루어지는 라우팅을 **정적 라우팅**이라 합니다.

---

## 동적 라우팅

네트워크의 규모가 커지면 정적 라우팅만으로는 관리가 어렵습니다.  
예를 들어, 경로에 문제가 생겼을 때 우회 경로가 있어도 정적 라우팅은 이를 반영하지 못합니다.

이럴 때 **동적 라우팅**이 사용됩니다.

- 라우터가 자동으로 라우팅 테이블 항목을 생성하고 갱신
- 경로에 문제가 발생하면 자동으로 대체 경로로 우회 가능
- 라우터들끼리 정보를 교환하며 최적 경로를 찾음
- 이 때 사용되는 것이 **라우팅 프로토콜**

---

# 라우팅 프로토콜

라우터 간에 정보를 교환하여 최적의 경로를 선택하기 위한 프로토콜입니다.  
크게 두 가지로 나뉩니다:

- **IGP (Interior Gateway Protocol)**: 하나의 AS(자율 시스템) 내부에서 동작
- **EGP (Exterior Gateway Protocol)**: 서로 다른 AS 간에 동작

---

## IGP: RIP과 OSPF

### RIP (Routing Information Protocol)

- **거리 벡터 기반 라우팅 프로토콜**
- 거리(홉 수)를 기준으로 최적 경로를 선택
- 단순하지만, 큰 네트워크에서는 비효율적

### OSPF (Open Shortest Path First)

- **링크 상태 기반 라우팅 프로토콜**
- 네트워크 전체를 그래프로 저장 (링크 상태 데이터베이스)
- 최적의 경로 계산: Dijkstra 알고리즘 사용
- 네트워크를 **에어리어(Area)** 단위로 분리하여 스케일 문제 해결
- 에어리어 간 연결은 **ABR(Area Border Router)**가 담당

---

## EGP: BGP (Border Gateway Protocol)

AS 간의 라우팅을 담당하는 프로토콜입니다.  
BGP는 여러 속성을 기준으로 최적의 경로를 판단합니다:

1. **AS-PATH 속성**
   - 경로를 지나온 AS 번호들의 리스트
   - 경로의 길이가 짧을수록 선호됨

2. **NEXT-HOP 속성**
   - 목적지까지 다음으로 가야 할 라우터의 IP 주소
   - 인접한 라우터와 연결 가능한지 여부 확인에 사용됨

3. **LOCAL-PREF 속성**
   - 같은 목적지로 가는 여러 경로 중 우선순위를 지정하는 값
   - 값이 클수록 선호됨
   - 동일 AS 내 라우터들 간에 전달됨

---

> 📌 요약:  
> - **정적 라우팅**: 수동 설정, 단순하지만 비효율적  
> - **동적 라우팅**: 자동 설정, 확장성과 유연성 뛰어남  
> - **라우팅 프로토콜**: RIP, OSPF (IGP), BGP (EGP)
